<html>
<head><title>About the Duplicate Nodes Map</title></head>
<body style="font-family: sans-serif; text-align: justify;">
<div style="width: 600px; margin-left: auto; margin-right: auto;">
<img src="header.png"/>
<a name="wtf"><h2>What is this?</h2></a>
<p>The duplicate nodes map is a display showing all the locations of duplicate nodes in the <a href="http://www.openstreetmap.org/">OpenStreetMap</a> map. 
A duplicate node, for the purposes of this map, is one which has the same position as another node. This means that each point marked on the map <em>isn't 
definitely an error</em>, but it could be one. (see <a href="#errors">more about errors</a>.)</p>

<a name="how_to_fix"><h2>How do I fix them?</h2></a>
<p>Have a look at this tutorial video by <a href="http://www.openstreetmap.org/user/SteveC">Steve Coast</a>, which explains several of the common 
problems and how to fix them.</p>
<center>
<object width="425" height="344">
<param name="movie" value="http://www.youtube.com/v/RrufgBUgQuU&hl=en_GB&fs=1&"></param>
<param name="allowFullScreen" value="true"></param>
<param name="allowscriptaccess" value="always"></param>
<embed src="http://www.youtube.com/v/RrufgBUgQuU&hl=en_GB&fs=1&" type="application/x-shockwave-flash" allowscriptaccess="always" 
allowfullscreen="true" width="425" height="344"></embed>
</object>
</center>

<a name="update_frequency"><h2>How often is it updated?</h2></a>
<p>This map is updated every minute from <a href="http://www.openstreetmap.org/">OpenStreetMap</a>'s minutely 
<a href="http://wiki.openstreetmap.org/wiki/Osmosis/DetailedUsage#Replication_Tasks">replication diffs</a> and shouldn't be more than two minutes behind 
the &quot;live&quot; data.</p>

<a name="just_use_a_bot"><h2>Can't you just write a bot to fix all these?</h2></a>
<p>It's technically possible, but not as good as having someone actually look at the map. For example; some duplicate nodes are caused by things being too 
close, such as a landuse area and a node which is part of a highway. In this case the appropriate fix is to move the nodes apart, not to merge them. In 
other cases the appropriate fix is to merge the nodes, such as two highways which should be connected but instead merely have overlapping nodes.</p>
<p>It's also helpful for the overall quality of the map to have people looking at the data, particularly where potential errors aren't visible on the 
standard renderings. Writing a bot would appear to fix all the duplicate nodes, but wouldn't have the benefit of fixing any surrounding errors which might 
be visible to a human.</p>

<a name="common_problems"><h2>What common problems are there to fix?</h2></a>
<p>Many duplicate nodes are simple editing problems where, instead of joining to an existing node, a new node has been created over the top. These usually 
occur individually across the map.</p>
<p>Some occur along a way, which usually means that way has been duplicated entirely. It's important to be careful with these cases, as often one copy of 
the way has been edited and may have different tags and/or geometry.</p>
<p>A large number occur because of imports, especially where the imported data has been cut up into tiles. This can cause pretty patterns, such as 
straight lines of duplicate nodes, or duplicate nodes following administrative boundaries.</p>

<a name="errors"><h2>Are they all errors?</h2></a>
<p>Definitely not. In many places where imports have been done there are nodes with the same location, which will show up on the duplicate nodes map, but
are not necessarily errors. In a large number of cases these are imports from different &quot;layers&quot; of the source (a concept which OpenStreetMap 
doesn't use), and are not errors. However, in some cases the duplicate nodes occur because of overlapping or wholly duplicated imports which are errors
and should be fixed.</p>
<p>If you're not sure whether what you're seeing is an error or not, please come and discuss it on 
<a href="http://wiki.openstreetmap.org/wiki/Contact#IRC">IRC</a>, 
<a href="http://wiki.openstreetmap.org/wiki/Contact#Mailing_lists">the mailing lists</a> or
<a href="http://wiki.openstreetmap.org/wiki/Contact">any of the other contact channels</a> for the OpenStreetMap community.

<a name="france_and_netherlands"><h2>What's up with France and the Netherlands?</h2></a>
<p>Both of these countries have imported datasets that contain nodes with the same latitude and longitude. For France this was an import of survey points,
some of which are horizontally co-located, for the Netherlands it was an import of mobile phone antennas. The usefulness of these imports aside (hint:
not very), these imported nodes <em>are probably not</em> duplicates and shouldn't be merged with other nodes from the same import.</p>
<p>I'm working on an extension to the duplicate nodes detector code which will fix this (and some other problems), so please be patient until it's
finished.</p>

<a name="where_to_find_them"><h2>I want to help. Where needs fixing?</h2></a>
<p>Great! Thanks!</p>
<p>It's best to start around where you edit, in an area you know well. If that's already done, or was so good it didn't have any, there are plenty of 
places which could do with some help; just zoom out until you can see the whole world and it'll be pretty clear where needs help. Currently, some hotspots 
are:</p>
<ul>
<li><a href="http://matt.dev.openstreetmap.org/dupe_nodes/?zoom=5&lat=38.92857&lon=-99.08834&layers=BT">United States of America</a>,</li>
<li><a href="http://matt.dev.openstreetmap.org/dupe_nodes/?zoom=7&lat=36.35399&lon=127.58158&layers=BT">South Korea</a>,</li>
<li><a href="http://matt.dev.openstreetmap.org/dupe_nodes/?zoom=8&lat=52.20351&lon=5.49052&layers=BT">The Netherlands</a>,</li>
<li><a href="http://matt.dev.openstreetmap.org/dupe_nodes/?zoom=6&lat=9.03582&lon=8.6381&layers=BT">Nigeria</a>.</li>
</ul>

<a name="how_it_works"><h2>How does it work?</h2></a>
<p>Previous duplicate nodes maps have focussed on smaller sub-sets of the data to reduce processing time to a manageable level, but this duplicate nodes 
map is able to handle the full set of <a href="http://www.openstreetmap.org/">OSM</a> data because it is built on top of 
<a href="http://matt.dev.openstreetmap.org/owl_viewer/">OWL</a>. OWL follows the minutely replication diffs, analyzing them to find out where the changes 
really are. Each edit is bucketed into a set of small tiles, which allows the duplicate nodes to be re-calculated for only a small fraction of the data 
each minute.</p>

<a name="stats"><h2>Wow, there's loads.</h2></a>
<p>Yep. But they're being fixed quite quickly. See below for a graph of the number of duplicate nodes remaining to be fixed over the past week.</p>
<img src="dupe_nodes.png"/>
<iframe src="progress.html" width="600" frameborder="0" height="40" marginwidth="0" marginheight="0" scrolling="no"></iframe>
<p>Here's a list of the users who've been most active creating and clearing duplicate nodes over the past 24 hours:</p>
<iframe src="leaderboard.html" width="600" frameborder="0" height="660" marginwidth="0" marginheight="0" scrolling="yes"></iframe>

<a name="credits"><h2>Who built it?</h2></a>
<p>The duplicate nodes map and <a href="http://matt.dev.openstreetmap.org/owl_viewer/">OWL</a> were built by 
<a href="http://www.openstreetmap.org/user/Matt">Matt</a>. The display is built using the fabulous <a href="http://openlayers.org/">OpenLayers</a>
library for all the JavaScript / Geo stuff. And, of course, all the data comes from the <a href="http://www.openstreetmap.org/">OpenStreetMap</a>
project, available under a <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA</a> license.</p>
</div>
</body>
</html>
